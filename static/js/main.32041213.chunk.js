(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var a=c(26),s=c(9),n=(c(36),c(37),c(3)),r=c(11),l=c.n(r),i=c(1),j=function(e){var t=e.isActive;return l()("navbar-item",{"has-background-grey-lighter":t})},o=function(){return Object(i.jsx)("nav",{"data-cy":"nav",className:"navbar is-fixed-top has-shadow",role:"navigation","aria-label":"main navigation",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"navbar-brand",children:[Object(i.jsx)(s.c,{to:"/",className:j,children:"Home"}),Object(i.jsx)(s.c,{to:"/people",className:j,children:"People"})]})})})},d=(c(39),function(){return Object(i.jsx)("h1",{className:"title",children:"Home Page"})}),b=function(){return Object(i.jsx)("h1",{className:"title",children:"Page not found"})},h=c(4),u=c(6),p=c(5),O=c(8),x=c(0),m="https://mate-academy.github.io/react_people-table/api/people.json";function f(e){return new Promise((function(t){return setTimeout(t,e)}))}function v(){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f(500).then((function(){return fetch(m)})).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c(40);var y=function(){return Object(i.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(i.jsx)("div",{className:"Loader__content"})})},g=function(e){var t=e.person,c=Object(s.d)(),a=Object(p.a)(c,1)[0];return Object(i.jsx)(s.b,{to:{pathname:"/people/".concat(t.slug),search:a.toString()},className:l()({"has-text-danger":"f"===t.sex}),children:t.name})},w=function(e){return e.Name="Name",e.Sex="Sex",e.Born="Born",e.Died="Died",e}({}),S=c(24),k=c(27);function B(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(p.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):Array.isArray(s)?(c.delete(a),s.forEach((function(e){c.append(a,e)}))):c.set(a,s)})),c.toString()}var R=["children","params"],P=function(e){var t=e.children,c=e.params,a=Object(k.a)(e,R),n=Object(s.d)(),r=Object(p.a)(n,1)[0];return Object(i.jsx)(s.b,Object(S.a)(Object(S.a)({to:{search:B(r,c)}},a),{},{children:t}))},F=function(e){var t=e.people,c=e.sortBy,a=e.isReversed,s=e.setSortBy,r=e.setIsReversed,j=Object(n.q)().personSlug;return Object(i.jsxs)("table",{"data-cy":"peopleTable",className:"table is-striped is-hoverable is-narrow is-fullwidth",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object.values(w).map((function(e){var t=c===e,n=t&&!a,j=t&&a;return Object(i.jsx)("th",{children:Object(i.jsxs)("span",{className:"is-flex is-flex-wrap-nowrap",children:[e,Object(i.jsx)(P,{params:{sort:j?null:e.toLowerCase(),order:n?"desc":null},onClick:function(){!function(e){var t=c===e&&!1===a,n=c===e&&!0===a;c!==e&&(s(e),r(!1)),t&&r(!0),n&&(s(void 0),r(!1))}(e)},children:Object(i.jsx)("span",{className:"icon",children:Object(i.jsx)("i",{className:l()("fas",{"fa-sort":!t,"fa-sort-up":n,"fa-sort-down":j})})})})]})},e)})),Object(i.jsx)("th",{children:"Mother"}),Object(i.jsx)("th",{children:"Father"})]})}),Object(i.jsx)("tbody",{children:t.map((function(e){var c=e.sex,a=e.born,s=e.died,n=e.fatherName,r=e.motherName,o=e.slug,d=t.find((function(e){return e.name===r})),b=t.find((function(e){return e.name===n}));return Object(i.jsxs)("tr",{"data-cy":"person",className:l()({"has-background-warning":o===j}),children:[Object(i.jsx)("td",{children:Object(i.jsx)(g,{person:e})}),Object(i.jsx)("td",{children:c}),Object(i.jsx)("td",{children:a}),Object(i.jsx)("td",{children:s}),Object(i.jsx)("td",{children:d?Object(i.jsx)(g,{person:d}):r||"-"}),Object(i.jsx)("td",{children:b?Object(i.jsx)(g,{person:b}):n||"-"})]},o)}))})]})},L=function(){return Object(i.jsxs)("nav",{className:"panel",children:[Object(i.jsx)("p",{className:"panel-heading",children:"Filters"}),Object(i.jsxs)("p",{className:"panel-tabs","data-cy":"SexFilter",children:[Object(i.jsx)("a",{className:"is-active",href:"#/people",children:"All"}),Object(i.jsx)("a",{className:"",href:"#/people?sex=m",children:"Male"}),Object(i.jsx)("a",{className:"",href:"#/people?sex=f",children:"Female"})]}),Object(i.jsx)("div",{className:"panel-block",children:Object(i.jsxs)("p",{className:"control has-icons-left",children:[Object(i.jsx)("input",{"data-cy":"NameFilter",type:"search",className:"input",placeholder:"Search"}),Object(i.jsx)("span",{className:"icon is-left",children:Object(i.jsx)("i",{className:"fas fa-search","aria-hidden":"true"})})]})}),Object(i.jsx)("div",{className:"panel-block",children:Object(i.jsxs)("div",{className:"level is-flex-grow-1 is-mobile","data-cy":"CenturyFilter",children:[Object(i.jsxs)("div",{className:"level-left",children:[Object(i.jsx)("a",{"data-cy":"century",className:"button mr-1",href:"#/people?centuries=16",children:"16"}),Object(i.jsx)("a",{"data-cy":"century",className:"button mr-1 is-info",href:"#/people?centuries=17",children:"17"}),Object(i.jsx)("a",{"data-cy":"century",className:"button mr-1 is-info",href:"#/people?centuries=18",children:"18"}),Object(i.jsx)("a",{"data-cy":"century",className:"button mr-1 is-info",href:"#/people?centuries=19",children:"19"}),Object(i.jsx)("a",{"data-cy":"century",className:"button mr-1",href:"#/people?centuries=20",children:"20"})]}),Object(i.jsx)("div",{className:"level-right ml-4",children:Object(i.jsx)("a",{"data-cy":"centuryALL",className:"button is-success is-outlined",href:"#/people",children:"All"})})]})}),Object(i.jsx)("div",{className:"panel-block",children:Object(i.jsx)("a",{className:"button is-link is-outlined is-fullwidth",href:"#/people",children:"Reset all filters"})})]})},A=function(){var e=Object(x.useState)([]),t=Object(p.a)(e,2),c=t[0],a=t[1],s=Object(x.useState)(!0),n=Object(p.a)(s,2),r=n[0],l=n[1],j=Object(x.useState)(""),o=Object(p.a)(j,2),d=o[0],b=o[1],m=Object(x.useState)(),f=Object(p.a)(m,2),N=f[0],g=f[1],S=Object(x.useState)(!1),k=Object(p.a)(S,2),B=k[0],R=k[1],P=function(){var e=Object(u.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:t=e.sent,a(t),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),b("Something went wrong"),e.t0;case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})));return function(){return e.apply(this,arguments)}}();Object(x.useEffect)((function(){P()}),[]);var A=!r&&!d&&0===c.length,C=function(e){var t=e.people,c=e.sortBy,a=e.isReversed,s=Object(O.a)(t);return c&&(s.sort((function(e,t){switch(c){case w.Name:return e.name.localeCompare(t.name);case w.Sex:return e.sex.localeCompare(t.sex);case w.Born:return e.born-t.born;case w.Died:return e.died-t.died;default:return 0}})),a&&s.reverse()),s}({people:c,sortBy:N,isReversed:B});return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{className:"title",children:"People Page"}),Object(i.jsx)("div",{className:"block",children:Object(i.jsxs)("div",{className:"columns is-desktop is-flex-direction-row-reverse",children:[Object(i.jsx)("div",{className:"column is-7-tablet is-narrow-desktop",children:Object(i.jsx)(L,{})}),Object(i.jsx)("div",{className:"column",children:Object(i.jsxs)("div",{className:"box table-container",children:[r&&Object(i.jsx)(y,{}),d&&Object(i.jsx)("p",{"data-cy":"peopleLoadingError",className:"has-text-danger",children:d}),A&&Object(i.jsx)("p",{"data-cy":"noPeopleMessage",children:"There are no people on the server"}),Object(i.jsx)("p",{children:"There are no people matching the current search criteria"}),c.length>0&&Object(i.jsx)(F,{people:C,sortBy:N,isReversed:B,setIsReversed:R,setSortBy:g})]})})]})})]})},C=function(){return Object(i.jsxs)("div",{"data-cy":"app",children:[Object(i.jsx)(o,{}),Object(i.jsx)("div",{className:"section",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)(n.d,{children:[Object(i.jsx)(n.b,{path:"/home",element:Object(i.jsx)(n.a,{to:"/",replace:!0})}),Object(i.jsx)(n.b,{path:"/",element:Object(i.jsx)(d,{})}),Object(i.jsx)(n.b,{path:"/people",element:Object(i.jsx)(A,{})}),Object(i.jsx)(n.b,{path:"/people/:personSlug",element:Object(i.jsx)(A,{})}),Object(i.jsx)(n.b,{path:"*",element:Object(i.jsx)(b,{})})]})})})]})};Object(a.createRoot)(document.getElementById("root")).render(Object(i.jsx)(s.a,{children:Object(i.jsx)(C,{})}))}},[[41,1,2]]]);
//# sourceMappingURL=main.32041213.chunk.js.map